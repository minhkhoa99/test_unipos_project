!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("redux")):"function"==typeof define&&define.amd?define(["exports","react","redux"],t):t(e.ReactReduxContext={},e.React,e.Redux)}(this,function(e,t,r){"use strict";function n(e){return function(){return e}}t=t&&t.hasOwnProperty("default")?t.default:t;var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e};var i=o;var a,u=function(e,t,r,n,o,i,a,u){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,u],p=0;(s=Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}},s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c=(function(e){e.exports=function(){function e(e,t,r,n,o,i){i!==s&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=i,r.PropTypes=r,r}()}(a={exports:{}},a.exports),a.exports),p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},h=t.createContext(),d=function(e){function n(t){p(this,n);var o=y(this,e.call(this,t));return o._unsubscribe=null,o._getState=o._getState.bind(o),o.state=o._getState(),o._actions=r.bindActionCreators(o.props.actions,o.props.store.dispatch),o._dispatch=o.props.store.dispatch,o}return l(n,e),n.prototype.componentDidMount=function(){var e=this;this._unsubscribe=this.props.store.subscribe(function(){e.setState(function(){return e._getState()})})},n.prototype.componentWillUnmount=function(){this._unsubscribe&&this._unsubscribe()},n.prototype.render=function(){return t.createElement(h.Provider,{value:{state:this.state.current,actions:this._actions,dispatch:this._dispatch}},this.props.children)},n.prototype._getState=function(){return{current:this.props.store.getState()}},n}(t.Component);d.propTypes={store:c.object.isRequired,actions:c.object.isRequired};var b=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===m}(e)}(e)};var m="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function v(e,t){return!1!==t.clone&&t.isMergeableObject(e)?O(Array.isArray(e)?[]:{},e,t):e}function g(e,t,r){return e.concat(t).map(function(e){return v(e,r)})}function O(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||g,r.isMergeableObject=r.isMergeableObject||b;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach(function(t){n[t]=v(e[t],r)}),Object.keys(t).forEach(function(o){n[o]=r.isMergeableObject(t[o])&&e[o]?O(e[o],t[o],r):v(t[o],r)}),n}(e,t,r):v(t,r)}O.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return O(e,r,t)},{})};var j=O,_=Object.prototype.hasOwnProperty;function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var P=function(e){var r=e.stateLens,n=e.actionsLens,o=e.children;return t.createElement(h.Consumer,null,function(e){var i={};r&&(i.state=r),n&&(i.actions=n);var a=j(e,i,{clone:!1});return t.createElement(h.Provider,{value:a},o)})};var R=function(e,t,r){return f({},e,t,r)};e.Provider=d,e.connect=function(e,r,n){return e||(e=function(){return{}}),r||(r=function(){return{}}),n||(n=R),function(n){var o=function(o){function i(e){p(this,i);var t=y(this,o.call(this,e));return t.reduxContext={ProviderLens:P},t.state={},t}return l(i,o),i.getDerivedStateFromProps=function(t){var n=t.props,o=t.storeData;return{propsToPass:R(e(o.state,n),r(o.actions,n),n)}},i.prototype.shouldComponentUpdate=function(e,t){return!function(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var n=0;r.length>n;n++)if(!_.call(t,r[n])||!x(e[r[n]],t[r[n]]))return!1;return!0}(t.propsToPass,this.state.propsToPass)},i.prototype.render=function(){return t.createElement(n,f({reduxContext:this.reduxContext},this.state.propsToPass,{ref:this.props.forwardedRef}))},i}(t.Component);return o.displayName="Connect("+(n.displayName||n.name||"Anonymous")+")",t.forwardRef(function(e,r){return t.createElement(h.Consumer,null,function(n){return t.createElement(o,{props:e,storeData:n,forwardedRef:r})})})}},Object.defineProperty(e,"__esModule",{value:!0})});
